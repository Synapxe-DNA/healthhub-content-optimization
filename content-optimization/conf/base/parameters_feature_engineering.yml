# This is a boilerplate parameters config generated for pipeline 'feature_engineering'
# using Kedro 0.19.6.
#
# Documentation for this file format can be found in "Parameters"
# Link: https://docs.kedro.org/en/0.19.6/configuration/parameters.html
cfg:
  # For single content contegory, a subset (only confirmed) or all content categories
  # Options: 'live-healthy-articles', 'only_confirmed', 'all'
  option: only_confirmed
  contributor: Health Promotion Board
  to_remove: true

selection_options:
  only_confirmed:
    - cost-and-financing
    - diseases-and-conditions
    - live-healthy-articles
    - medical-care-and-facilities
    - support-group-and-others
  # Note: Try not to touch the `all` option unless explicity required
  all:
    - cost-and-financing
    - diseases-and-conditions
    - health-statistics
    - live-healthy-articles
    - medical-care-and-facilities
    - medications
    - program-sub-pages
    - programs
    - support-group-and-others

keywords:
  # See: https://maartengr.github.io/KeyBERT/guides/embeddings.html
  model: all-MiniLM-L6-v2
  # See: https://spacy.io/models
  spacy_pipeline: en_core_web_sm
  stop_words: english
  workers: 1
  use_mmr: true
  diversity: 0.5
  top_n: 5

columns_to_keep_emb:
  - id
  - content_name
  - title
  - article_category_names
  - cover_image_url
  - full_url
  - category_description
  - content_body
  - feature_title
  - pr_name
  - date_modified
  - page_views
  - engagement_rate
  - content_category
  - has_table
  - has_image
  - related_sections
  - extracted_links
  - extracted_headers
  - extracted_content_body
  - keywords_all-MiniLM-L6-v2

embeddings:
  model: nomic-embed-text-v1.5
  owner: nomic-ai
  trust_remote_code: true
  pooling_strategy: mean

# columns to generate embeddings
columns_to_emb:
  - title
  - article_category_names
  - category_description
  - extracted_content_body
  - keywords_all-MiniLM-L6-v2

# weightage of each column embedding
embeddings_weightage:
  title: 0.3
  article_category_names: 0
  category_description: 0
  extracted_content_body: 0.7
  keywords: 0
