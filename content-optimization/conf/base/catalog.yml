# Data Processing Pipeline
all_contents:
  type: partitions.PartitionedDataset
  path: data/01_raw/all_contents # path to the location of partitions
  dataset: pandas.ExcelDataset
  filename_suffix: ".xlsx"

missing_contents:
  type: partitions.PartitionedDataset
  path: data/01_raw/missing_contents
  dataset: text.TextDataset
  filename_suffix: ".txt"
  fs_args:
    open_args_load:
      mode: "rb"
      encoding: "utf-8"

all_contents_standardized:
  type: partitions.PartitionedDataset
  path: data/02_intermediate/all_contents_standardized
  dataset: pandas.ParquetDataset
  filename_suffix: ".parquet"

all_contents_added:
  type: partitions.PartitionedDataset
  path: data/02_intermediate/all_contents_added
  dataset: pandas.ParquetDataset
  filename_suffix: ".parquet"

all_contents_extracted:
  type: partitions.PartitionedDataset
  path: data/02_intermediate/all_contents_extracted
  dataset: pandas.ParquetDataset
  filename_suffix: ".parquet"

all_extracted_text:
  type: partitions.PartitionedDataset
  path: data/02_intermediate/all_extracted_text
  dataset: text.TextDataset
  filename_suffix: ".txt"

all_contents_mapped:
  type: partitions.PartitionedDataset
  path: data/02_intermediate/all_contents_mapped
  dataset: pandas.ParquetDataset
  filename_suffix: ".parquet"

merged_data:
  type: pandas.ParquetDataset
  filepath: data/03_primary/merged_data.parquet
  versioned: true

# Jupyter Notebooks
raw_word_counts:
  type: content_optimization.datasets.plotly.HTMLDataset
  filepath: data/08_reporting/raw_word_counts.html
  versioned: true

log_word_counts:
  type: content_optimization.datasets.plotly.HTMLDataset
  filepath: data/08_reporting/log_word_counts.html
  versioned: true

flag_for_removal_by_type:
  type: pandas.ExcelDataset
  filepath: data/08_reporting/flag_for_removal_by_type.xlsx
  save_args:
    index: false
  versioned: true

recipes_data:
  type: pandas.ExcelDataset
  filepath: data/08_reporting/recipes_data.xlsx
  save_args:
    index: false
  versioned: true

# Feature Engineering Pipeline
filtered_data_with_keywords:
  type: pandas.ParquetDataset
  filepath: data/03_primary/filtered_data_with_keywords.parquet
  versioned: true

embeddings_data:
  type: pandas.ParquetDataset
  filepath: data/04_feature/embeddings_data.parquet

weighted_embeddings:
  type: pickle.PickleDataset
  filepath: data/04_feature/weighted_embeddings.pkl

# Clustering Pipeline
ground_truth_data:
  type: pandas.ExcelDataset
  filepath: data/01_raw/Synapxe Content Prioritisation - Live Healthy_020724.xlsx
  load_args:
    sheet_name: 2

first_level_pred_cluster:
  type: pandas.CSVDataset
  filepath: data/07_model_output/first_level_predicted_cluster.csv

first_level_metrics:
  type: pandas.CSVDataset
  filepath: data/07_model_output/first_level_metrics.csv

first_level_cluster_size:
  type: pandas.CSVDataset
  filepath: data/07_model_output/first_level_cluster_size.csv

first_level_clustered_nodes:
  type: pandas.CSVDataset
  filepath: data/07_model_output/first_level_clustered_nodes.csv

first_level_unclustered_nodes:
  type: pandas.CSVDataset
  filepath: data/07_model_output/first_level_unclustered_nodes.csv

final_cluster_size:
  type: pandas.CSVDataset
  filepath: data/07_model_output/final_cluster_size.csv

final_predicted_cluster:
  type: pandas.CSVDataset
  filepath: data/07_model_output/final_predicted_clusters.csv

final_clustered_nodes:
  type: pandas.CSVDataset
  filepath: data/07_model_output/final_clustered_nodes.csv

final_unclustered_nodes:
  type: pandas.CSVDataset
  filepath: data/07_model_output/final_unclustered_nodes.csv

final_metrics:
  type: pandas.CSVDataset
  filepath: data/07_model_output/final_metrics.csv
